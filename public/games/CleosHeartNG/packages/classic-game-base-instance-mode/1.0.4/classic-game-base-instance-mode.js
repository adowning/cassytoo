!function(e){function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var t={};n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(n){return e[n]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=0)}([function(e,n,t){t(1),window.nge._versions=window.nge._versions||{},window.nge._versions["classic-game-base-instance-mode"]=JSON.stringify("1.0.4")||"local"},function(e,n,t){t(2),t(3),t(4),t(5),t(6),t(7),t(8),t(9),t(10),t(11),t(12),t(13),t(14),t(15),t(16),t(17),t(18),t(19),t(20),t(21),t(22),t(23),t(24),t(25),t(26),t(27),t(28),t(29),t(30),t(31),t(32),t(33),t(34),t(35),t(36),t(37)},function(e,n){nge.appNS="ClassicGameBaseInstanceMode",nge.App[nge.appNS]={}},function(e,n){nge.App[nge.appNS].Run=nge.App.ClassicGameBase.Run.extend((function(){this.applyClassicGameBase=function(){nge.App.ClassicGameBase&&(nge.App[nge.appNS]=nge.Lib.Helper.mergeObjsRecursive(nge.App.ClassicGameBase,nge.App[nge.appNS]))},this.run=function(){this.runDefault()}})),nge.Cfg.Main.project="classicGameBaseInstanceMode",nge.Cfg.Main.title="ClassicGameBaseInstanceMode",nge.Cfg.Main.gameCode=nge.gameCode,nge.Cfg.Main.gameType="slot",nge.Cfg.Main.slotType="standart",nge.App[nge.appNS].Path="app/classicGameBaseInstanceMode/"},function(e,n){nge.App[nge.appNS].Cfg={}},function(e,n){nge.App[nge.appNS].Com={}},function(e,n){nge.App[nge.appNS].Com.Gamble={},nge.App[nge.appNS].Com.Gamble._Package={name:"com.gamble",version:1,requirments:{js:["com/gamble/controller","com/gamble/tpl"]}}},function(e,n){nge.App[nge.appNS].Com.Gamble.ShowingAnimation={}},function(e,n){nge.App[nge.appNS].Com.Gamble.ShowingAnimation.CfgMode=Class.extend((function(){this.singleton=!0,this.params={from:-709,to:0,tweenDuration:200,offsetX:0,offsetY:0,offsetWidth:0,offsetHeight:0},this.get=function(){return this.params}}))},function(e,n){nge.App[nge.appNS].Com.Gamble.ShowingAnimation.ControllerExtension=function(){var e;this.create=function(){this.super.create(),e=this.getInstance("CfgMode").get();var n=nge.findOne("^slotMachineGameContainer").getData(),t=nge.findOne("^slotMachineGameContainer").parent.getData(),o=nge.findOne("^gambleContainer"),i=nge.game.add.graphics();i.lineStyle(0),i.beginFill(16777215),i.drawRect(+t.x+e.offsetX,+t.y+e.offsetY,+n.width+e.offsetWidth,+n.height+e.offsetHeight),i.endFill(),o&&(o.mask=i)}}},function(e,n){nge.App[nge.appNS].Com.Gamble.ShowingAnimation.ViewExtension=function(){var e,n,t,o;this.init=function(){this.super.init(),e=nge.findOne("^winlinesAddon"),(n=nge.findOne("^gambleScreen")).visible=!1,t=this.getInstance("CfgMode").get()},this.showGambleScreen=function(){this.toggleSlotMachine(!1),n.y=t.from,n.visible=!0,o&&o.stop(),(o=nge.game.add.tween(n).to({y:t.to},t.tweenDuration,Phaser.Easing.Linear.None,!1)).start(),e.visible=!1},this.showSlotMachine=function(){this.toggleSlotMachine(!0),n.y=t.to,o&&o.stop(),(o=nge.game.add.tween(n).to({y:t.from},t.tweenDuration,Phaser.Easing.Linear.None,!1)).onComplete.add((function(){n.visible=!1})),o.start(),e.visible=!0}}},function(e,n){nge.App[nge.appNS].Com.Gamble.ShowingAnimation.Controller=nge.App.ClassicGameBase.Com.Gamble.Controller.extend(nge.App[nge.appNS].Com.Gamble.ShowingAnimation.ControllerExtension)},function(e,n){nge.App[nge.appNS].Com.Gamble.ShowingAnimation.extender=nge.App.ClassicGameBasePsd?nge.App.ClassicGameBasePsd:nge.App.ClassicGameBase,nge.App[nge.appNS].Com.Gamble.ShowingAnimation.View=nge.App[nge.appNS].Com.Gamble.ShowingAnimation.extender.Com.Gamble.View.extend(nge.App[nge.appNS].Com.Gamble.ShowingAnimation.ViewExtension)},function(e,n){nge.App[nge.appNS].Com.InnerJackpot={}},function(e,n){nge.App[nge.appNS].Com.InnerJackpot.CfgMode=Class.extend((function(){this.singleton=!0,this.params={selectors:[{selector:".jackpotTop",symbol:0},{selector:".jackpotMiddle",symbol:1},{selector:".jackpotLow",symbol:3}]},this.get=function(){return this.params}}))},function(e,n){nge.App[nge.appNS].Com.InnerJackpot.Controller=nge.Com.Base.extend((function(){var e,n,t,o,i,a,r,s,l,c,p=this,g=[],f=[],u=[],m=!1;this.currencyColor="#00BFFF",this.create=function(){this.super.create(),e||(nge.observer.add("innerJackpot.show",d),nge.observer.add("slotMachine.spinStart",b),nge.observer.add("slotMachine.spinStart",w),nge.observer.add("gamble.take",b),nge.observer.add("gamble.go",b),nge.observer.add("bet.change",x),nge.observer.add("lines.change",x),nge.observer.add("coins.change",x),nge.observer.add("buttons.pressCommand",S),nge.observer.add("transportMessage.PayoutsUpdateResponse",v)),n=this.getInstance("CfgMode").get(),a=null,t=nge.findOne("^innerJackpotackpotPopup"),o=nge.findOne("^innerJackpotPopupText"),i=nge.findOne("^innerJackpotPopupImg");var s,l=nge.findOne("^slotMachineGameContainer"),c=nge.findAll(".slotMachineJackpotValue");for(s=0;s<c.length;s++)l.add(c[s]);for(l=nge.findOne("^gambleScreen"),c=nge.findAll(".gambleJackpotValue"),s=0;s<c.length;s++)l.add(c[s]);return g=[],n.selectors.forEach((function(e){var n=nge.findAll(e.selector);n&&n.forEach((function(n){g.push({element:n,symbol:e.symbol})}))})),f=nge.findAll(".jackpotPlayareaValue"),u=nge.findAll(".creditsJackpotPlayareaValue"),w(),r=h(nge.localData.get("payout.cfg")),C(),e=!0};var d=function(){t.visible=!0;var e=nge.localData.get("slotMachine.slotWin.totalWin");e=nge.Lib.Money.toCoins(e),nge.observer.fire("infoPanel.showText",{text:"WIN "+e,position:"up",colors:[{color:"#ff8600",from:4}]}),o.text=e,i.alpha=0,a=nge.game.add.tween(i).to({alpha:1},700,Phaser.Easing.Linear.None,!0,0,-1,!0)},b=function(){t.visible=!1,a&&a.stop()},h=function(e){var n={},t=0,o=e.length,i=0;e:for(;i<o;i++){var a=e[i].symbols,r=e[i].payout,s=e[i].matchCount,l=0,c=a[0];if(0!==r&&20===a.length){if(0<s)c="any_"+a.join("_"),l=s;else{s=a.length;for(var p=0;p<s;p++){if(c!==a[p])continue e;l++}}n[c]||(t++,n[c]={name:l,value:r})}}return 7>t?null:n},y=function(e,n){return!!e&&(n||(n=" "),(e=e.toString().split("."))[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,n),e.join("."))},C=function(){if(r){var e=nge.localData.get("lines.value"),n=nge.localData.get("bet.value"),t=nge.localData.get("coins.value"),o=m?e*n*t/s:1,i=m?e*n/l:1;g&&g.forEach((function(e){e.element.text=Math.round(r[e.symbol].value/c*i).toString()}));var a=nge.localData.get("balance.currency")||"";f.forEach((function(e){var n=y((r[0].value*o).toFixed(2));e.text=n+" "+a,e.clearColors(),e.addColor(p.currencyColor,n.length),e.maxSizeResize("width",240)})),u.forEach((function(e){e.text=y(Math.round(r[0].value/c*i)),e.maxSizeResize("width",240)}))}},v=function(e){e&&e.data&&e.data.payouts&&(r=h(e.data.payouts)),C()},S=function(e){-1===e.indexOf("hold")&&-1===e.indexOf("linePlusMobile")&&-1===e.indexOf("lineMinusMobile")&&-1===e.indexOf("linesChanger")||nge.rafSetTimeout(C,200)},w=function(){m=!1;var e=nge.localData.get("lines.value"),n=nge.localData.get("bet.value"),t=nge.localData.get("coins.value");c=t,s=e*n*t,l=e*n},x=function(){m=!0,C()}}))},function(e,n){nge.App[nge.appNS].Com.InnerJackpot.Tpl=function(){var e=nge.appPath+"img/playarea/";return{styles:{".jackpotPopupYellow":{style:{font:'40pt "arial_bold"',fill:"#FFFF00",align:"center",stroke:"#222222",strokeThickness:6}}},assets:{contents:[{key:"jackpot_0",fullPath:e+"jackpot_0.png"},{key:"jackpot_1",fullPath:e+"jackpot_1.png"}]},objects:{contents:[{type:1,isVisible:!1,name:"innerJackpotPopup",contents:[{type:2,x:970,y:630,anchorX:.5,anchorY:.5,class:"jackpotPopupYellow",name:"innerJackpotPopupText"},{type:0,x:960,y:450,anchorX:.5,anchorY:.5,assetKey:"jackpot_1",name:"innerJackpotPopupImg"},{type:0,x:960,y:450,anchorX:.5,anchorY:.5,assetKey:"jackpot_0"}]}]}}}},function(e,n){nge.App[nge.appNS].Com.InnerJackpot.UI_v3={}},function(e,n){nge.App[nge.appNS].Com.InnerJackpot.UI_v3.Gold={}},function(e,n){nge.App[nge.appNS].Com.InnerJackpot.UI_v3.Gold.Controller=nge.App[nge.appNS].Com.InnerJackpot.Controller.extend((function(){this.currencyColor="#EFC273"}))},function(e,n){nge.App[nge.appNS].Com.SlotMachine={},nge.App[nge.appNS].Com.SlotMachine._Package={name:"com.slotMachine",version:1,requirments:{js:["com/slotMachine/cfg"]}}},function(e,n){nge.App[nge.appNS].Com.SlotMachine.TempBlurs={}},function(e,n){nge.App[nge.appNS].Com.SlotMachine.TempBlurs.CfgMode=Class.extend((function(){this.singleton=!0,this.params={freeUseSymbols:"5 6 7 8 9 10".split(" "),scatter:{name:"11",size:1,probability:20,countInReel:3},symbolPucksCfg:[{name:"0",combinations:[{size:3,probability:20,countInReel:2}]},{name:"1",combinations:[{size:3,probability:20,countInReel:2}]},{name:"2",combinations:[{size:3,probability:20,countInReel:2}]},{name:"3",combinations:[{size:4,probability:15,countInReel:1}]},{name:"4",combinations:[{size:4,probability:15,countInReel:1}]},{name:"5",combinations:[{size:2,probability:2,countInReel:2},{size:3,probability:20,countInReel:2},{size:4,probability:15,countInReel:2}]},{name:"6",combinations:[{size:2,probability:2,countInReel:2},{size:3,probability:20,countInReel:2},{size:4,probability:15,countInReel:2}]},{name:"7",combinations:[{size:2,probability:2,countInReel:2},{size:3,probability:20,countInReel:2},{size:4,probability:15,countInReel:2}]},{name:"8",combinations:[{size:2,probability:2,countInReel:2},{size:3,probability:20,countInReel:2},{size:4,probability:15,countInReel:2}]},{name:"9",combinations:[{size:2,probability:2,countInReel:2},{size:3,probability:20,countInReel:2},{size:4,probability:15,countInReel:2}]},{name:"10",combinations:[{size:2,probability:2,countInReel:2},{size:3,probability:20,countInReel:2},{size:4,probability:15,countInReel:2}]},{name:"12",combinations:[{size:5,probability:15,countInReel:1}]}]},this.get=function(){return this.params}}))},function(e,n){nge.App[nge.appNS].Com.SlotMachine.TempBlurs.ControllerExtension=function(){var e,n,t;this.create=function(){this.super.create(),n=(e=this)._service._view,t=this.getInstance("CfgMode").get()};var o=function(){e.slotMachineUpdateBlurs()},i=function(e){nge.localData.set("slotMachineAdditionalBlurs",[1,1,1,1,1]);var o=[];e=e.spinResult.columns;var i,a=t.freeUseSymbols;for(i=0;i<e.length;i++){o[i]=[];for(var r=0;r<t.symbolPucksCfg.length;r++){var s=1<t.symbolPucksCfg[r].combinations.length?t.symbolPucksCfg[r].combinations[nge.Lib.Helper.getRandomInt(0,t.symbolPucksCfg[r].combinations.length-1)].size:t.symbolPucksCfg[r].combinations[0].size,l=i,c=t.symbolPucksCfg[r].name,p=c,g=nge.Lib.Helper.jsObjClone(e[l]);g.reverse();var f=0;if(g[0]===p){for(var u=f=1;u<g.length&&g[u]===p;u++)f++;f=s-f}for(p=f;p>n._cfg.mh;)o[l].push("blurTemp-"+c+"-x"+n._cfg.mh),p-=n._cfg.mh;0<p&&o[l].push("blurTemp-"+c+"-x"+p)}}for(i=0;i<e.length;i++)if(0===o[i].length&&85>nge.Lib.Helper.getRandomInt(0,99)){do{r=a[nge.Lib.Helper.getRandomInt(0,a.length-1)]}while(r===e[i][n._cfg.mh-1]);s=50>nge.Lib.Helper.getRandomInt(0,99)?3:4,o[i].push("blurTemp-"+r+"-x"+s)}nge.localData.set("slotMachineAdditionalBlursKeys",o)};this.slotMachineUpdateBlurs=function(){nge.localData.get("freespin.inProgress")?nge.observer.fire("slotMachine.updateBlurs"):nge.observer.fire("slotMachine.updateBlurs",null,5)},this.customSubscribe=function(){this.super.customSubscribe(),nge.observer.add("slotMachine.spinComplete",o),nge.observer.add("slotMachine.spinResponse",i)}}},function(e,n){nge.App[nge.appNS].Com.SlotMachine.TempBlurs.Controller=nge.Com.SlotMachine.Controller.extend(nge.App[nge.appNS].Com.SlotMachine.TempBlurs.ControllerExtension.clone())},function(e,n){nge.App[nge.appNS].Com.SlotMachine.TempBlurs.ViewExtension=function(){var e,n,t=this;this.createSlotMachine=function(i,a,r,s){e=t.getInstance("CfgMode").get(),n=e.freeUseSymbols,this.super.createSlotMachine(i,a,r,s),o()};var o=function(){nge.localData.set("slotMachine.tempBlur.generating",!0);for(var o=e.symbolPucksCfg,i=0;i<t._cfg.mw;i++)o.forEach((function(e){for(var o=e.combinations[e.combinations.length-1].size,i=1;i<=o;i++){for(var a=e.name,r=i,s=[],l=0;4>l;l++)s.push(l<r?a:n[nge.Lib.Helper.getRandomInt(0,n.length-1)]);t._createTempBlur(s,"blurTemp-"+a+"-x"+r)}}));nge.localData.set("slotMachine.tempBlur.generating",!1)},i=function(e,n,t,o){var i=0;if(n[0]===t){var a;for(i=1,a=1;a<n.length&&n[a]===t;a++)i++;for(a=0;a<o-i;a++)e[a]=t;i=o-i}return i};this._getBlurKeys=function(t,o){if(t===this._cfg.mh&&nge.localData.get("slotMachine.tempBlur.generating"))return o;var a=this.super._getBlurKeys(t,o),r=nge.localData.get("slotMachine.spinResult.columns");r||(r=nge.Lib.Helper.rowsToColumns(nge.localData.get("slotMachine.gameParameters.initialSymbols")));var s=this._cfg.th.indexOf(t);if(-1!==s){a=a.reverse();var l=[],c=-1;e.symbolPucksCfg.forEach((function(e){var n=e.combinations[e.combinations.length-1];0===c&&(c=i(a,r[s],e.name,n.size)),l.push({symbol:e.name,count:n.size,max:n.countInReel,p:n.probability})})),l.push({symbol:e.scatter.name,count:e.scatter.size,max:e.scatter.countInReel,p:e.scatter.probability});var p=[2,3,4][nge.Lib.Helper.getRandomInt(0,2)];n.forEach((function(e){0===c&&(c=i(a,r[s],e,p))})),0<l.length&&function(e,n,t){var o,i=0;for(o=0;o<t.length;o++)i+=t[o].p;for(o=0;o<t.length;o++)t[o].p/=i,t[o].p*=1e6,0<o&&(t[o].p+=t[o-1].p);for(i=[],o=0;o<t.length;o++)i.push(0);var a=-1;for(o=n;o<e.length;o++){var r=nge.Lib.Helper.getRandomInt(0,999999);for(n=0;n<t.length;n++)if(o<e.length-t[n].count&&r<t[n].p&&i[n]<=t[n].max&&a!==t[n].symbol){for(a=t[n].symbol,r=0;r<t[n].count;r++)e[o]=t[n].symbol,o++;o--,i[n]++;break}}}(a,c+1,l),a=a.reverse()}return a}}},function(e,n){nge.App[nge.appNS].Com.SlotMachine.TempBlurs.View=nge.Com.SlotMachine.View.extend(nge.App[nge.appNS].Com.SlotMachine.TempBlurs.ViewExtension)},function(e,n){nge.App[nge.appNS].Com.Winlines={}},function(e,n){nge.App[nge.appNS].Com.Winlines.CachedMarkers={}},function(e,n){nge.App[nge.appNS].Com.Winlines.CachedMarkers.CfgMode=Class.extend((function(){this.singleton=!0,this.params={leftMarkers:{containerName:"lineMarkersLeftContainer",x:201,y:204},rightMarkers:{containerName:"lineMarkersRightContainer",x:1600,y:204}},this.get=function(){return this.params}}))},function(e,n){nge.App[nge.appNS].Com.Winlines.CachedMarkers.ControllerExtension=function(){var e,n,t={};this.create=function(){this.super.create(),n=this.getInstance("CfgMode").get(),t[n.leftMarkers.containerName]={container:null,sprite:null,x:n.leftMarkers.x,y:n.leftMarkers.y},t[n.rightMarkers.containerName]={container:null,sprite:null,x:n.rightMarkers.x,y:n.rightMarkers.y},i()};var o=function(e){if(t[e].container||(t[e].container=nge.findOne("^".concat(e))),!t[e].container)return console.warn("Check lineMarkers container name"),!1;t[e].sprite&&(t[e].sprite.visible=!1,t[e].sprite.destroy(),t[e].sprite=null);var n=t[e].container;n.visible=!0;var o=n.generateTexture();t[e].sprite=nge.game.add.sprite(t[e].x,t[e].y,o),o=nge.localData.get("lines.value")+"",t[e].sprite.y+=_offsets[o]||0,n.parent.addChild(t[e].sprite),n.visible=!1},i=function(){Object.getOwnPropertyNames(t).forEach(o),e=null},a=function(){e&&nge.rafClearTimeout(e),e=nge.rafSetTimeout(i,1)};this.customSubscribe=function(){this.super.customSubscribe(),nge.observer.add("lines.set",a)}}},function(e,n){nge.App[nge.appNS].Com.Winlines.CachedMarkers.Controller=nge.Com.Winlines.Controller.extend(nge.App[nge.appNS].Com.Winlines.CachedMarkers.ControllerExtension.clone())},function(e,n){nge.App[nge.appNS].Com.WinlinesAddon={},nge.App[nge.appNS].Com.WinlinesAddon._Package={name:"com.winlinesAddon",version:1,requirments:{js:["com/winlinesAddon/controller","com/winlinesAddon/tpl"]}}},function(e,n){nge.App[nge.appNS].Com.WinlinesAddon.AnimationFrames={}},function(e,n){nge.App[nge.appNS].Com.WinlinesAddon.AnimationFrames.CfgMode=Class.extend((function(){this.singleton=!0,this.params={border:{types:["small","small_bonus"],weight:6,offsetX:40,offsetY:0,textOffsetX:55,textOffsetY:39,width:98,height:36,colors:["0x5788f7","0xf0d484"],alpha:1,stroke:{weight:2,colors:["0x5788f7","0xf0d484"],alpha:1},background:{color:"0x000",alpha:1},textSameColor:!1},scaleFactor:1.15,borderWin:2,borderWinOffsets:!1,routeframesUnderSymbols:!1,rowsXoffset:!1,rowsYoffset:!1,textStyle:{font:'bold 18pt "roboto_condensed_regular"',fill:"#fff",align:"left"}},this.get=function(){return this.params}}))},function(e,n){nge.App[nge.appNS].Com.WinlinesAddon.AnimationFrames.Controller=nge.Com.Base.extend((function(){var e,n,t,o,i,a,r,s,l,c,p,g,f;this.create=function(){l={},c={},e=this,o=this.getInstance("Cfg","slotMachine").get(),t=this.getInstance("CfgMode").get(),s=this.getInstance("Cfg","winlines"),g=t.border.types[0];var m=this.getInstance("Tpl");if(f=nge.findOne("^winlinesAddonContainer"),nge.objects.create(m.objects.contents[0],f),p=nge.findOne("^winlinesAddon"),i=nge.findOne("^"+o.parentName)){m=i.mt.data,a=m.width/o.mw,r=m.height/o.mh,m=p;for(var d=0;d<o.mh;d++)for(var b=0;b<o.mw;b++){var h=nge.objects.create({x:b*a+(o.rowsXoffset?o.rowsXoffset[d]:0+t.rowsXoffset?t.rowsXoffset[d]:0),y:d*r+(o.rowsYoffset?o.rowsYoffset[d]:0+t.rowsYoffset?t.rowsYoffset[d]:0),type:0,assetKey:"gn_border_"+g+"0",name:"symbol-frame-"+d+"-"+b,isVisible:!1,scaleX:t.scaleFactor,scaleY:t.scaleFactor},m);h.name="symbol-frame-"+d+"-"+b,l[h.name]=h}u(p)}return t.routeframesUnderSymbols&&((m=nge.findOne("^"+o.parentName)).add(f),f.x-=m.x,f.y-=m.y),n||e.subscribe(),n=!0};var u=function(e){for(var n,o=function(o){(n=new Phaser.Graphics(nge.game)).name="border-win-frame",n.x=0,n.y=0;var i=t.border.stroke;if(!1===i){var a=null;i=void 0}else{var r=s.stroke;a=i||r,i=i?i.weight:r?r.weight:0}m({width:t.border.width,height:t.border.height,weight:t.border.weight,color:t.border.colors[o],alpha:0,stroke:a,strokeWeight:i,strokeColor:t.border.stroke.colors[o],strokeAlpha:0,background:t.border.background},n),n.cacheAsBitmap=!0,n.visible=!0,(a=nge.objects.create({x:0,y:0,type:1,name:"border-win-frame-"+t.border.types[o],isVisible:!1},e)).name="border-win-frame-"+t.border.types[o],a.add(n),l[a.name]=a,e.add(a)},i=function(n){var o=t.textStyle;t.border.textSameColor&&((o=nge.Lib.Helper.jsObjClone(t.textStyle)).fill=t.border.colors[n].replace("0x","#")),(o=new Phaser.Text(nge.game,0,0,"1000",o)).name="border-win-text-"+t.border.types[n],o.anchorX=.5,o.anchorY=1,o.visible=!1,l[o.name]=o,e.add(o)},a=0;a<t.border.types.length;a++)o(a),i(a)},m=function(e,n){var t=function(e,t,o,i,a){for(e=[{x:0,y:0},{x:e,y:0},{x:e,y:t},{x:0,y:t}],t=0;t<e.length;t++){var r=e[t],s=e[t+1>=e.length?0:t+1],l=n,c=r.x,p=r.y,g=o,f=i;l.beginFill(f,a||1),l.lineStyle(0,f,0),l.drawCircle(c,p,g),l.endFill(),l=n,c=r.x,r=r.y,p=s.x,s=s.y,g=o,f=i;var u=a||1;l.beginFill(f,u),l.lineStyle(g,f,u),l.moveTo(c,r),l.lineTo(p,s),l.moveTo(p,s),l.endFill()}};e.background&&function(e,n,t,o,i,a,r){e.beginFill(a,r||1),e.drawRect(n,t,o,i),e.endFill()}(n,0,0,e.width,e.height,e.background.color,e.background.alpha),e.stroke&&t(e.width,e.height,e.strokeWeight+e.weight,e.strokeColor,e.strokeAlpha),t(e.width,e.height,e.weight,e.color,e.alpha)},d=function(e){if(nge.localData.get("slotMachineSpinning"))return!1;var n=g;for(var o in void 0===n&&t.border.types[n]&&(n="scatter"),l)l[o].visible=!1;for(o=0;o<e.wonSymbols.length;o++){var i=e.wonSymbols[o],a=l["symbol-frame-"+i[1]+"-"+i[0]];if(a){if(0===o){var r=nge.Lib.Money.toCoins(e.amount),s=l["border-win-frame-"+g];s.visible=!0,s.x=a.x+t.border.offsetX,s.y=a.y+t.border.offsetY,l["border-win-text-"+n].x=a.x+t.border.offsetX+(t.border?t.border.textOffsetX:0),l["border-win-text-"+n].y=a.y+t.border.offsetY+(t.border?t.border.textOffsetY:0),l["border-win-text-"+n].visible=!0,l["border-win-text-"+n].text=r}a.visible=!0,b(i[1]+"-"+i[0],a)}}},b=function(e,n){c[e]=nge.Lib.TweenTools.spritesAnimation(1,"gn_border_"+g,n,2e3),c[e].onComplete.add((function(){b(e,n)})),c[e].start()},h=function(e){for(var n in l)l[n].visible=!1;for(n in c)c[n]&&c[n].stop(!1)},y=function(e){g=e},C=function(e){p.visible=e};this.subscribe=function(){t.routeframesUnderSymbols?nge.observer.add("winlines.lineHighlite.start.previousHided",d):nge.observer.add("winlines.lineHighlite.startComplete",d),nge.observer.add("winlines.view.startHideAll",h),nge.observer.add("winlines.enable",C),nge.observer.add("winlines.disable",C),nge.observer.add("winlines.changeFrameTypeMode",y),nge.observer.add("Transport.close",h)}}))},function(e,n){nge.App[nge.appNS].Mlm={}},function(e,n){nge.App[nge.appNS].Mlm.Brain={}}]);